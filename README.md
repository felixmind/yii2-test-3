# Тестовое задание #3

## Содержание

- [Исходное описание](#original)
- [Порядок разворачивания проекта](#deploy)
- [О написанном коде](#about-code)

## <a name="original"></a> Исходное описание

### Docker Compose

Развернуть среду разработки на основе Docker Compose включающую следующие сервисы:
1. Балансировщик nginx (работа в режиме proxy_pass на сервис с приложением)
1. Приложение (yii2-приложение, работающее на php71-fpm)
1. База данных (PostgreSQL 12)
1. Composer (служебный образ для запуска по требованию)

### Бизнес требования

1. В публичной части сайта разместить форму "Обратная связь". Поля формы: ФИО (необязательное, максимум 256 символов), телефон (обязательное, шаблон +7(999)999-99-99). При отправке формы должна проходить валидация, если успешно то сохраняется в БД со статусом "На модерации".
1. В административной части сайта вывести заявки с возможностью сортировки, фильтрации, с пагинацией по 1 записи на страницу. С возможностью отредактировать заявку: изменить ФИО, телефон и статус.

### Технические требования

1. Фреймворк Yii2
1. Использование Git
1. Использование механизма миграций
1. Использование механизма фикстур
1. Разработать примитивные приёмочные тесты формы обратной связи (положительный/отрицательный)
1. Создать скрипт для автоматического запуска миграций, фикстур и тестов

 ## <a name="deploy"></a> Порядок разворачивания проекта
 
* Склонировать проект
* В корне проекта запустить команду `docker-compose up -d`
* После запуска всех контейнеров, контейнер с Composer должен автоматически установить все зависимости приложения, после чего прекратит свою работу. Проверить процесс установки зависимостей можно через `docker container attach felixmind.composer`. Если команда скажет что контейнер остановлен, значит зависимости установлены.
* Запустить команду `docker exec felixmind.php-fpm ./deploy`. Она запустит миграции, загрузит фикстуры и выполнит пошагово приемочные тесты формы обратной связи.